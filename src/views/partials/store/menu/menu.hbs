<link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.1.0/uicons-solid-rounded/css/uicons-solid-rounded.css'>
<style>

    .button-spacing {
        margin-left: 15px;
    }

    .card-menu{
        color: white;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-top: auto;
    }

    .col-cart{
    }

    .container-car-home{
        display: none;
    }

    .title-home-store{
   
    }
    /**/
    .table-container {
        max-height: 60%;
        overflow-y: auto; 
    }

    .table-menu{
        width: 100%;
        border-collapse: separate;
        border-spacing: 0 0.5rem;
    }

    .table-menu tr{
        background-color: white;
        border-radius: 25px;
        height: 25px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .table-menu td, .table-menu th {
        padding: 10px;
        text-align: left;
    }

    @media only screen and (max-width: 500px) {
        .table-container {
            max-height: 100px;
        }
    }
</style>
<div class="title-home-store">
    <br>
    <h5><b>EXPLORA NUESTRO MENÚ<i class="fi fi-ss-book-alt"></i></b></h5>
    <hr>
</div>
<div class="container-menu-store px-3 py-3">
    <div class="row">
        <div class="col-8">
            <!--this is the search-->
            <table class="" style="width: 100%;">
                <thead>
                    <tr>
                        <th class="td1">
                            <input type="text" placeholder="Escribe un código de barras..." class="form-control"
                                name="usernameSearch" autofocus id="search">
                        </th>
                        <!--
                        <th class="td2">
                            {{#each dataEmployee}}
                            <button class="btn btn-primary button-spacing" onclick="search_browser_div()"><i
                                    class="fi fi-rs-search"></i></button>
                            <button class="btn" onclick="car_returns('{{id}}','{{id_branches}}')"><img src="https://cdn-icons-png.flaticon.com/512/3176/3176255.png" alt="" class="img-icon"></button>
                            -->
                            {{/each}}
                        </th>
                    </tr>
                </thead>
            </table>

            <hr>
            <div class="row container-menu" name="container-menu" id="container-div">


                {{#if dishAndCombo}}
                {{#each dishAndCombo}}
                    <div class="card container-combo col-3"
                        style="padding-right: 0.5rem; background:transparent; margin:0;border: none" id="{{barcode}}">
                        <div class="card" id="{{barcode}}">
                            <div class="image-content">
                                <span class="overlay">

                                </span>
                                <div class="card-image" style="width: 80%;">
                                    {{#if img}}
                                    <img class="card-img" src="{{img}}" alt="">
                                    {{else}}
                                    <img class="card-img" src="https://cdn-icons-png.flaticon.com/512/1695/1695572.png"
                                        alt="">
                                    {{/if}}
                                </div>
                            </div>

                            <div class="card-content">
                                <h2 class="name">{{name}}</h2>
                                <h1 class="name">${{price_1}}</h1>
                                <p class="description">{{barcode}}</p>
                                <button class="button-card"
                                    onclick="addFish('{{id}}','{{name}}','{{price_1}}','{{price_2}}','{{price_3}}')"><i
                                        class="fi-icon-card fi-ss-cart-arrow-down"></i></button>
                            </div>
                        </div>
                    </div>
                {{/each}}
                {{else}}
                <div class="col-3">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src="https://cdn-icons-png.flaticon.com/512/3159/3159196.png"
                            alt="Card image cap">
                        <div class="card-body">
                            <p class="card-text">Oh, esta sucursal aún no tiene inventario de productos.</p>
                        </div>
                    </div>
                </div>
                {{/if}}

            </div>
        </div>
        <div class="col-4 col-cart">
            {{#each dataEmployee}}
            <!--
                <button class="btn btn-primary button-spacing"
                    onclick="cash_movement('{{id}}','{{id_branches}}')"><i
                        class="fi fi-sr-hand-holding-usd"></i></button>
                <button class="btn btn-primary button-spacing"
                    onclick="cash_movement('{{id}}','{{id_branches}}')"><i
                        class="fi fi-ss-cash-register"></i></button>
            -->
                <button class="btn btn-primary button-spacing" id="emailClient" email="" idClient="null" onclick="select_customer('{{id_companies}}')"><i class="fi-icon fi-sr-following"></i> Client</button>
                
            <br>
            <br>
            <table border="1" class="table-menu">
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Precio</th>
                        <th>Cantidad</th>
                        <th>Total</th>
                        <th></th>
                    </tr>
                </thead>
            </table>
            <div class="table-container">
                <table id="table-car-home" border="1" class="table-menu">
                    <tbody>
                    </tbody>
                </table>
            </div>
            <br>
            <button class="btn-container-cart card-menu" id="btn-total-home" onclick="buy_my_car(this)">Buy $0<i class="fi-icon fi-sr-shopping-cart"></i></button>
            {{/each}}
        </div>
    </div>
</div>
<br><br><br><br>
<script src="/js/menu.js"></script>
<script src="/js/store/search.js"></script>
<script src="/js/search.js"></script>
<script src="/js/store/cashMovement.js"></script>
<script src="/js/store/return.js"></script>
<script>

    // Función para ajustar dinámicamente la clase de los elementos con la clase "container-combo"
    function adjustDivClass() {
        // Obtén todos los elementos con la clase "container-combo"
        const divElements = document.querySelectorAll('.container-combo');

        // Itera sobre cada elemento
        divElements.forEach(function (element) {
            if (window.innerWidth <= 1500) { // Si el ancho de la ventana es menor o igual a 500px
                element.classList.remove('col-3'); // Elimina la clase col-3
                element.classList.add('col-5'); // Agrega la clase col-5
            } else {
                element.classList.remove('col-5'); // Elimina la clase col-5
                element.classList.add('col-3'); // Agrega la clase col-3
            }
        });
    }

    // Llama a la función al cargar la página y cuando se redimensione la ventana
    window.onload = adjustDivClass;
    window.onresize = adjustDivClass;
</script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const searchInput = document.getElementById('search');
        const cards = document.querySelectorAll('.card.container-combo');

        searchInput.addEventListener('input', () => {
            const query = searchInput.value.toLowerCase();
            cards.forEach(card => {
                const barcode = card.id.toLowerCase();
                if (barcode.includes(query) || query === '') {
                    card.style.display = '';
                } else {
                    card.style.display = 'none';
                }
            });
        });
    });
</script>